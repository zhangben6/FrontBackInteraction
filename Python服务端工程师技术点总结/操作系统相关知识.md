# 操作系统相关知识
**前言:开发者为什么一定要懂linux操作的操作？**  
因为大部分web应用都是部署在Linux Server上的，比如CentOs或者Ubuntu，包括现在的容器技术其实也是基于Linux去实现的，所以作为应用开发者来说，即便没有去深入了解Linux内核的原理也应该去掌握Linux的一些相关的指令操作。  

目前公司常用的应用架构模式为LAMP/LNMP --->  Linux+Apache(Nginx)+Mysql+Php/Python，还有很多公司使用微服务架构，当前微服务容器技术也是基于Linux操作系统去实现的，有的时候也需要进入到容器中进行代码调试 
### 1.Linux操作系统常考命令

1.查看一条指令的用法可以使用man xxx  ,查看具体用法。不过给出的查看文档不友好不利用查看，可以pip install tldr       tldr xxx 很方便查询

2.chown(改变所属者)/chmod(改变文件相关权限)/chgrp(修改组)  

3.文件目录操作相关指令：ls/rm/cd/cp/mv/touch/rename/ln(建立软连接或硬链接)

4.locate/find/grep  如 find / -name '*.pyc' -delete （删除根目录下所有以.pyc后缀的文件全部删掉）

5.文件查看相关指令： vi编辑器、cat/tail/head用来查看文件、more/less 交互式查看文件

6.跟进程相关的操作命令：ps查看进程/kill 杀死进程/top监控进程
比如 kill -9/kill -15分别代表什么意思，分别给进程发送了什么样的信号

7.跟内存相关的操作指令：free(查看系统的可用内存)

8.跟网络相关的操作指令：ifconfig 查看网卡信息和对应的ip地址、lsof/netstat 查看端口信息、ssh/scp 远程登陆/远程文件复制。

9.掌握常见用户和组操作指令： useradd/usermod 添加/修改用户  groupadd/groupmod 添加/修改组

**总结：除了以上的基础命令外，linux常考的知识点还有 (1)crontab (2)如何查看一个进程占用的端口 (3)如何使用find查找一个文件 (4)软连接跟硬链接的区别 (5)linux文件系统**

### 2.操作系统中什么是进程和线程

1.进程是对运行时程序的一种封装，是系统资源调度和分配的基本单位，进程可以看作是操作系统的一种并行机制。
2.线程是进程的子任务，cpu调度和分配的基本单位，实现进程内的并发或者并行。
3.一个进程可以包含多个线程，线程依赖进程存在，并共享进程内存 

###3.并发和并行的区分
1.并行就是多个cpu内核一块去执行任务，但是像python的话因为存在全局解释器线程锁，没有办法充分利用cpu多核资源，所以只能并发的去执行一个任务。
2.并发看似是跟并行一样的模式去执行任务，其实是通过cpu时间片的轮转在不同的cpu内核中切换任务，同一个时刻还是只能执行一个线程，只不过对外部来说，它营造了一种同时执行的效果，这就是并发。 

### 4.什么是线程安全
线程不安全的原因：因为在一个进程里面，不同的线程可以共享进程内存中的数据，一个线程的修改数据的结构被另一个线程的修改结果覆盖。
线程安全：一个操作可以在多线程环境下安全使用，获取正确的结果。就比如线程是顺序执行（线程同步方式）的而不是并发执行的。

### 5.线程同步的方式
1.互斥锁：通过互斥机制防止多个线程同时访问公共资源
2.信号量：控制同一时刻多个线程访问用一个资源的线程数
3.事件(信号):通过发通知的方式保持多个线程同步

### 6.进程间的通信方式
1.使用管道pipe
2.发送信号:比如用户使用CTRL+C产生SIGINT程序终止信号
3.消息队列(Message)
4.共享内存，比如说操作系统给我们提供了一块共享区内存，可以在不同进程之间去读写它。
5.进程之间的信号量
6.套接字(socket):最常用的通信方式，web应用都是用的这种方式。


### 7.操作系统中内存管理机制 --- 分页机制
操作系统为了高效管理内存，减少内存碎片，把逻辑地址跟物理地址进行分离从而制定的一种方案。把程序的逻辑地址划分为固定大小的页(page),物理地址划分为同样大小的帧(Frame),它们中间通过页表来分别对应逻辑地址和物理地址。图表叫微信图片

### 8.操作系统中内存管理机制 --- 分段机制
分段就是为了满足代码的一些逻辑需求，比如经常所说的数据共享，数据保护，动态链接等，它是通过段表来实现逻辑地址和物理地址的映射关系，并且在每个段内部都是连续的内存分配，段和段之间是离散分配的

### 9.分页和分段机制的区别
1.分页机制是处于内存利用率的角度提出的离散分配机制，更高效的去利用内存，减少内存碎片；
2.分段机制是处于使用者的角度，用于数据保护、数据隔离等用途的内存管理机制
3.页的大小是固定的，是由操作系统决定的，段大小是不固定的，是由用户的程序决定的。

### 10.什么是虚拟内存
程序在运行的时候把必要的信息装入内存中，把另一部分暂时不用的内存信息放到硬盘上，等到用到这部分内存的时候再交换回来，这样的话似乎系统就提供了比实际内存大得多的容量，那么这一块内存就叫做虚拟内存。

### 11.Python的垃圾回收机制
python主要是以引用计数的方式用来回收垃圾，但它的缺点就是无法解决循环引用的问题，严重的话有可能也会造成内存泄漏。然后针对这个缺点python同样引入了标记清除和分代回收来解决引用计数解决不了的问题。所以总的来说，python处理垃圾回收主要是以引用技术的方式为主，以标记清除和分代回收的方式做为辅助。


### 12.编写一个多线程的爬虫（练习题）


