# 数据库知识点总结

- MongoDB属于文档型数据库  
- Hbase多用来存储海量数据  
- 不过在业务开发的web应用中使用最多的还是Mysql和Redis

### 1.什么是事务(Transation)
事务是数据库并发控制的基本单位，也可以看作是一系列SQL语句的集合，要么全部执行成功，要么全部执行失败进行回滚操作，从而保持数据库的完整性。

### 2.事务的ACID特性


|特性|描述|
|-----|-----|
|原子性(Atomicity) | 一个事务中所有操作全部完成或者失败
|一致性(Consistency)|事务开始和结束之后数据完整性没有被破坏
|隔离性(Isolation)|允许多个事务同时对数据库修改和读写
|持久性(Durability)|事务结束之后，修改是永远不会丢失的

### 3.高并发场景下的重复插入问题解决

- 使用数据库的唯一索引
- 使用队列异步写入
- 使用redis等实现分布式锁

### 4.乐观锁和悲观锁
1.悲观锁是先获取锁再进行操作。也就是一锁二查三更新
2.乐观锁先修改，更新的时候发现数据变了就执行回滚操作 
到底业务中选取哪一种锁还是要根据响应速度、冲突频率、重试代价来判断到底使用哪一种。


### 5.Mysql的数据类型
Char(字符串类型)、Varchar(数值类型)、Date(日期时间类型)
需要用列表形式总结以下


### 6. 两种存储引擎InnoDB和MyISAM的区别

- MyISAM不支持事务，InnoDB支持事务
- MyISAM不支持外键，InnoDB支持外键
- MyISAM只支持表锁，InnoDB支持行锁和表锁
- MyISAM支持全文索引，而InnoDB不支持


### 7.Mysql索引
**1.什么是索引？**   
索引是数据表中一个或者多个列进行排序的数据结构，Mysql实际使用的是B+Tree作为索引的数据结构(它只在叶子节点带有指向记录的指针，它是B-Tree也就是多路平衡查找树演变而来的)  
**2.为什么需要索引？**  
索引能够大幅提升检索速度，但也要根据具体情况进行创建索引，因为创建和更新索引本身也会消耗空间和时间

### 8.Mysql中索引的类型？

- 普通索引
- 唯一索引，索引列的值必须唯一
- 多列索引
- 主键索引(一个表只能有一个)
- 全文索引(InnoDB存储引擎不支持

### 9.什么时候需要建立索引？

- 经常用作查询条件的字段(WHERE条件)
- 经常用作一些表连接的字段
- 经常出现在order by,group by 之后的字段

创建索引的时候需要注意哪些？

- 作为索引的字段值尽量不要有大量相同值
- 索引的长度不要太长（比较耗费时间）
- 尽量避免重现空指None的情况，因为mysql很难对空指做查询优化

### 10.什么情况下索引会失效？出现了慢查询

- 以%开头的LIKE语句，模糊查询，这种情况无法利用索引。
- 出现隐式类型转换(输入的查询类型与数据库的类型不匹配)
- 没有满足最左前缀原则
原理就是当mysql的B+树中的key没有办法直接去比较的时候，索引就会失效，出现慢查询。

***
### 11.Redis数据库

